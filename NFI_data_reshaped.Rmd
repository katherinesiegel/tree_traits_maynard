---
title: "time_data"
output: html_document
date: "2024-07-02"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r cars}
summary(cars)
```



```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

## open files: species composition, relative abundance, site info
```{r}
AB_ltp_species_comp <- read.csv("C:/Users/krist/Downloads/CGCS KH/relevant_time_data/ab_gp_ltp_tree_species_comp.csv")
AB_ltp_rel_abundance <- read.csv("C:/Users/krist/Downloads/CGCS KH/relevant_time_data/ab_gp_rel_abundance_lgtree.csv")
AB_site_info <- read.csv("C:/Users/krist/Downloads/CGCS KH/relevant_time_data/ab_gp_site_info.csv")
```

## check dimensions and labels
```{r}
# check dimensions
dim(AB_ltp_species_comp)
dim(AB_ltp_rel_abundance)
dim(AB_site_info)

# check column names
names(AB_ltp_species_comp)
names(AB_ltp_rel_abundance)

# check same column names
intersect(names(AB_ltp_species_comp), names(AB_ltp_rel_abundance))

```
## merge relative abundance and species composition based on similar headers
```{r}
ABmergeL1 <- merge(AB_ltp_species_comp, AB_ltp_rel_abundance)
```

## merge merge1 with site info based on similar headers
```{r}
intersect(names(ABmergeL1), names(AB_site_info))
ABmergeL2 <- merge(ABmergeL1,AB_site_info)

# remove unnecessary columns
AB_ltp_data_merged <- select(ABmergeL2, nfi_plot:meas_date, utm_n, utm_e)
```
## save as csv file
```{r}
write.csv(AB_ltp_data_merged, "AB_ltp_data_merged.csv")
```

